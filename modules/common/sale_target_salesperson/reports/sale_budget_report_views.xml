<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="sale_budget_report_pivot" model="ir.ui.view">
        <field name="name">sale.budget.report.pivot</field>
        <field name="model">sale.budget.report</field>
        <field name="arch" type="xml">
            <pivot string="Sale Budget Analysis" sample="1">
                <field name="salesperson" type="col"/>
                <field name="team" type="col"/>
                <field name="period_end_date" type="row"/>
                <field name="budget" type="measure"/>
                <field name="actual" type="measure"/>
                <field name="invoiced" type="measure"/>
                <field name="sale_orders" type="measure"/>
                <field name="quotes" type="measure"/>
            </pivot>
        </field>
    </record>

    <record id="sales_budget_reports_tree" model="ir.ui.view">
        <field name="name">sales.budget.reports.tree</field>
        <field name="model">sale.budget.report</field>
        <field name="arch" type="xml">
            <list string="Sale Budget Reports">
                <field name="salesperson"/>
                <field name="team"/>
                <field name="quotes"/>
                <field name="sale_orders"/>
                <field name="invoiced"/>
                <field name='budget' optional="show"/>
                <field name='actual' optional="show"/>
                <field name='period_end_date'/>
            </list>
        </field>
    </record>


    <record id="sale_budget_report_form_new" model="ir.ui.view">
        <field name="name">sale.budget.report.form.new</field>
        <field name="model">sale.budget.report</field>
        <field name="arch" type="xml">
            <form string="Sale Budget Report">
                <sheet>
                    <group>
                        <field name="salesperson"/>
                        <field name="team"/>
                        <field name="period_end_date"/>
                        <field name="budget"/>
                        <field name="actual"/>
                        <field name="invoiced"/>
                        <field name="sale_orders"/>
                        <field name="quotes"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>


    <record id="sale_budget_report_filter" model="ir.ui.view">
        <field name="name">sale.budget.report.filter</field>
        <field name="model">sale.budget.report</field>
        <field name="arch" type="xml">
            <search string="Filter">
                <field name="salesperson"/>
                <separator/>
            </search>
        </field>
    </record>

    <record model="ir.actions.act_window" id="sale_budget_report_action">
        <field name="name">Invoiced Sales to Budget Report</field>
        <field name="res_model">sale.budget.report</field>
        <field name="view_mode">list,form,pivot</field>
        <field name="search_view_id" ref="sale_budget_report_filter"/>
    </record>


    <menuitem id="sale_budget_report_menu"
              name="Sales Budget Report"
              action="sale_budget_report_action"
              parent="sale.menu_sale_report"
              active="False"
              sequence="20"/>

</odoo>
