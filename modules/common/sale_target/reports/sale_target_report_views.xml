<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="sale_target_report_pivot" model="ir.ui.view">
         <field name="name">sale.target.report.pivot</field>
         <field name="model">sale.target.report</field>
         <field name="arch" type="xml">
             <pivot string="Sale target Analysis" sample="1">
                 <field name="salesperson" type="col"/>
                 <field name="period_end_date" type="row"/>
                 <field name="target" type="measure"/>
                 <field name="actual" type="measure"/>
             </pivot>
         </field>
    </record>

    <record id="sale_target_report_filter" model="ir.ui.view">
        <field name="name">sale.target.report.filter</field>
        <field name="model">sale.target.report</field>
        <field name="arch" type="xml">
            <search string="Search Target Splits">
                    <field name="sale_target_year" />
                    <field name="salesperson"/>
                    <field name="team_id"/>
                    <separator/>
               </search>
        </field>
    </record>

    <record id="sale_target_report_view_tree" model="ir.ui.view">
         <field name="name">sale.target.report.view.tree</field>
         <field name="model">sale.target.report</field>
         <field name="arch" type="xml">
             <list string="Sale target Analysis" create="false">
                <field name="sale_target_year" />
                <field name="team_id" optional="hide"/>
                <field name="salesperson" widget="many2one_avatar_user"/>
                <field name="period_end_date" />
                <field name="target" />
                <field name="actual" />
                <field name="invoiced" />
                <field name="sale_orders" optional="hide"/>
                <field name="quotes" optional="hide"/>
             </list>
         </field>
     </record>

    <record model="ir.actions.act_window" id="sale_target_report_action">
        <field name="name">Sales Target Report</field>
        <field name="res_model">sale.target.report</field>
        <field name="view_mode">pivot,list</field>
        <field name="search_view_id" ref="sale_target_report_filter"/>
    </record>



    <menuitem id="sale_target_report_menu"
              name="Sales Target Report"
              action="sale_target_report_action"
              parent="sale.menu_sale_report"
              sequence="20"/>


</odoo>
